const{ipcRenderer,contextBridge}=require("electron"),sendChannels=["get-config","get-settings","log","request-site-response","clear-notices-count","user-auth","user-login-status","view-post-clicked","print","secrets","toggle-dev-tools"],receiveChannels=["app-config","cookie-auth-complete","is-calypso","is-calypso-response","navigate","new-post","notification-clicked","notifications-panel-refresh","notifications-panel-show","page-help","page-my-sites","page-profile","page-reader","request-site","request-user-login-status","signout","toggle-notification-bar"];(async()=>{const e=await ipcRenderer.invoke("get-config");contextBridge.exposeInMainWorld("electron",{send:(e,...n)=>{sendChannels.includes(e)&&ipcRenderer.send(e,...n)},receive:(e,n)=>{if(receiveChannels.includes(e)){const i=(e,...i)=>n(...i);ipcRenderer.on(e,i)}},logger:(e,n)=>{const i=(i,s,o)=>{ipcRenderer.send("log",i,e,n,s,o)};return{error:(e,n)=>i("error",e,n),warn:(e,n)=>i("warn",e,n),info:(e,n)=>i("info",e,n),debug:(e,n)=>i("debug",e,n),silly:(e,n)=>i("silly",e,n)}},config:e})})();